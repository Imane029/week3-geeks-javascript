<!DOCTYPE html>
<html>
<head>
  <title>Exercise 2 - Shopping List</title>
</head>
<body>
  <script>
    const stock = { 
        "banana": 6, 
        "apple": 0,
        "pear": 12,
        "orange": 32,
        "blueberry": 1
    };

    const prices = {    
        "banana": 4, 
        "apple": 2, 
        "pear": 1,
        "orange": 1.5,
        "blueberry": 10
    };

    function myBill(shoppingList) {
        let total = 0;

        for (let item of shoppingList) {
            if (item in stock && stock[item] > 0) {  
                total += prices[item];      
                stock[item] -= 1;  
            } else {
                console.log(item + " n'est pas disponible en stock ❌");
            }
        }

        return total;
    }

   
    let shoppingList = [];
    let choice;

    while (true) {
        choice = prompt("Que voulez-vous acheter ? (tapez 'stop' pour terminer)\nProduits disponibles: banana, apple, pear, orange, blueberry");
        
        if (!choice) break;  
        choice = choice.trim().toLowerCase();
        
        if (choice === "stop") {
            break;
        } else if (choice in stock) {
            shoppingList.push(choice);
        } else {
            alert("Produit inconnu ❌");
        }
    }

   
    let total = myBill(shoppingList);

    console.log("Votre liste :", shoppingList);
    console.log("Total :", total);
    console.log("Stock après achat :", stock);
  </script>
</body>
</html>
